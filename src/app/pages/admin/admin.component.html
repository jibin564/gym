<section class="min-h-[80vh] bg-gray-50 flex flex-col items-center py-10 px-6">
    <h1 class="text-4xl font-extrabold text-gray-800 mb-8">Admin Dashboard</h1>
    <div *ngIf="loading" class="text-gray-500 text-lg">Loading users...</div>
    <table *ngIf="!loading" class="w-full max-w-5xl bg-white shadow-lg rounded-2xl overflow-hidden">
        <thead class="bg-gray-900 text-white text-lg">
            <tr>
                <th class="py-4 px-4 text-left">Email</th>
                <th class="py-4 px-4 text-left">Plan</th>
                <th class="py-4 px-4 text-left">Trainer</th>
                <th class="py-4 px-4 text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let u of users" class="border-b border-gray-200 hover:bg-gray-100">
                <td class="py-3 px-4">{{u.email}}</td>

                <td class="py-3 px-4">
                    <div *ngIf="editingUserId !== u.id">
                        {{u.plan}}
                    </div>
                    <select *ngIf="editingUserId === u.id" [(ngModel)]="u.plan" class="border p-2 rounded">
                        <option value="Silver">Silver</option>
                        <option value="Gold">Gold</option>
                        <option value="Platinum">Platinum</option>
                    </select>
                </td>
                <td class="py-3 px-4">
                    <div *ngIf="editingUserId !== u.id">{{ u.trainer }}</div>
                    <input *ngIf="editingUserId === u.id" [(ngModel)]="u.trainer" class="border p-2 rounded w-full" />
                </td>
                <td class="py-3 px-4 text-center">
                    <button *ngIf="editingUserId !== u.id"
                        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold"
                        (click)="startEditing(u)">
                        Edit
                    </button>
                    <div *ngIf="editingUserId === u.id" class="flex gap-2 justify-center">
                        <button class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"
                            (click)="saveUser(u)">
                            Save
                        </button>

                        <button class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded"
                            (click)="cancelEditing()">
                            Cancel
                        </button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

</section>