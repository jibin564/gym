import{A as n,E as u,F as f,G as a,I as o,J as b,K as S,L as h,M as v,N as y,S as I,T as E,V as A,a as x,aa as M,ba as T,ca as V,da as U,ea as k,fa as N,ga as O,ha as F,o as p,p as _,t as m,u as C,v as w,x as g,y as s,z as i}from"./chunk-J4MZJNUS.js";function P(t,r){t&1&&(i(0,"div",4),o(1,"Loading users..."),n())}function W(t,r){if(t&1&&(i(0,"div"),o(1),n()),t&2){let e=a().$implicit;m(),S(" ",e.plan," ")}}function $(t,r){if(t&1){let e=u();i(0,"select",18),y("ngModelChange",function(d){p(e);let c=a().$implicit;return v(c.plan,d)||(c.plan=d),_(d)}),i(1,"option",19),o(2,"Silver"),n(),i(3,"option",20),o(4,"Gold"),n(),i(5,"option",21),o(6,"Platinum"),n()()}if(t&2){let e=a().$implicit;h("ngModel",e.plan)}}function j(t,r){if(t&1&&(i(0,"div"),o(1),n()),t&2){let e=a().$implicit;m(),b(e.trainer)}}function L(t,r){if(t&1){let e=u();i(0,"input",22),y("ngModelChange",function(d){p(e);let c=a().$implicit;return v(c.trainer,d)||(c.trainer=d),_(d)}),n()}if(t&2){let e=a().$implicit;h("ngModel",e.trainer)}}function B(t,r){if(t&1){let e=u();i(0,"button",23),f("click",function(){p(e);let d=a().$implicit,c=a(2);return _(c.startEditing(d))}),o(1," Edit "),n()}}function G(t,r){if(t&1){let e=u();i(0,"div",24)(1,"button",25),f("click",function(){p(e);let d=a().$implicit,c=a(2);return _(c.saveUser(d))}),o(2," Save "),n(),i(3,"button",26),f("click",function(){p(e);let d=a(3);return _(d.cancelEditing())}),o(4," Cancel "),n()()}}function q(t,r){if(t&1&&(i(0,"tr",10)(1,"td",11),o(2),n(),i(3,"td",11),g(4,W,2,1,"div",12)(5,$,7,1,"select",13),n(),i(6,"td",11),g(7,j,2,1,"div",12)(8,L,1,1,"input",14),n(),i(9,"td",15),g(10,B,2,0,"button",16)(11,G,5,0,"div",17),n()()),t&2){let e=r.$implicit,l=a(2);m(2),b(e.email),m(2),s("ngIf",l.editingUserId!==e.id),m(),s("ngIf",l.editingUserId===e.id),m(2),s("ngIf",l.editingUserId!==e.id),m(),s("ngIf",l.editingUserId===e.id),m(2),s("ngIf",l.editingUserId!==e.id),m(),s("ngIf",l.editingUserId===e.id)}}function z(t,r){if(t&1&&(i(0,"table",5)(1,"thead",6)(2,"tr")(3,"th",7),o(4,"Email"),n(),i(5,"th",7),o(6,"Plan"),n(),i(7,"th",7),o(8,"Trainer"),n(),i(9,"th",8),o(10,"Actions"),n()()(),i(11,"tbody"),g(12,q,12,7,"tr",9),n()()),t&2){let e=a();m(12),s("ngForOf",e.users)}}var D=class t{constructor(r){this.authService=r}users=[];loading=!0;editingUserId=null;ngOnInit(){return x(this,null,function*(){this.loadusers()})}loadusers(){return x(this,null,function*(){this.loading=!0,this.users=yield this.authService.getAllUsers(),this.loading=!1})}startEditing(r){this.editingUserId=r.id}cancelEditing(){this.editingUserId=null}saveUser(r){return x(this,null,function*(){yield this.authService.updateUserData(r.id,{plan:r.plan,trainer:r.trainer}),this.editingUserId=null,yield this.loadusers()})}static \u0275fac=function(e){return new(e||t)(C(F))};static \u0275cmp=w({type:t,selectors:[["app-admin"]],decls:5,vars:2,consts:[[1,"min-h-[80vh]","bg-gray-50","flex","flex-col","items-center","py-10","px-6"],[1,"text-4xl","font-extrabold","text-gray-800","mb-8"],["class","text-gray-500 text-lg",4,"ngIf"],["class","w-full max-w-5xl bg-white shadow-lg rounded-2xl overflow-hidden",4,"ngIf"],[1,"text-gray-500","text-lg"],[1,"w-full","max-w-5xl","bg-white","shadow-lg","rounded-2xl","overflow-hidden"],[1,"bg-gray-900","text-white","text-lg"],[1,"py-4","px-4","text-left"],[1,"py-4","px-4","text-center"],["class","border-b border-gray-200 hover:bg-gray-100",4,"ngFor","ngForOf"],[1,"border-b","border-gray-200","hover:bg-gray-100"],[1,"py-3","px-4"],[4,"ngIf"],["class","border p-2 rounded",3,"ngModel","ngModelChange",4,"ngIf"],["class","border p-2 rounded w-full",3,"ngModel","ngModelChange",4,"ngIf"],[1,"py-3","px-4","text-center"],["class","bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold",3,"click",4,"ngIf"],["class","flex gap-2 justify-center",4,"ngIf"],[1,"border","p-2","rounded",3,"ngModelChange","ngModel"],["value","Silver"],["value","Gold"],["value","Platinum"],[1,"border","p-2","rounded","w-full",3,"ngModelChange","ngModel"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","text-sm","font-semibold",3,"click"],[1,"flex","gap-2","justify-center"],[1,"bg-green-600","hover:bg-green-700","text-white","px-4","py-2","rounded",3,"click"],[1,"bg-gray-500","hover:bg-gray-600","text-white","px-4","py-2","rounded",3,"click"]],template:function(e,l){e&1&&(i(0,"section",0)(1,"h1",1),o(2,"Admin Dashboard"),n(),g(3,P,2,0,"div",2)(4,z,13,1,"table",3),n()),e&2&&(m(3),s("ngIf",l.loading),m(),s("ngIf",!l.loading))},dependencies:[A,I,E,O,k,N,M,U,T,V],encapsulation:2})};export{D as AdminComponent};
